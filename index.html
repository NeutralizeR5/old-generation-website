<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>OLD GENERATION â€“ NEVER GIVE UP</title>
  <link rel="canonical" href="https://oldgeneration.com.tr/" />
  <meta name="theme-color" content="#ff3333" />

  <!-- PWA Icons -->
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png" />
  <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#ff3333" />
  <meta name="msapplication-TileColor" content="#ff3333" />
  <meta name="msapplication-TileImage" content="/icons/mstile-150x150.png" />
  <link rel="manifest" href="/manifest.json" />

  <!-- Preconnect for Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

  <!-- Google Fonts with font-display swap -->
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@500;700&display=swap" rel="stylesheet" />

  <!-- CSS with media=print preload trick to avoid render-blocking -->
  <link rel="stylesheet" href="/styles.css" media="print" onload="this.media='all'" />
  <noscript><link rel="stylesheet" href="/styles.css" /></noscript>

  <!-- Preload only critical images -->
  <link rel="preload" as="image" href="/images/logo.webp" />
  <link rel="preload" as="image" href="/images/og-image.webp" />

  <!-- Meta Tags for SEO -->
  <meta name="description" content="OLD GENERATION: A top-tier guild in Lords Mobile, forging legends since 2016." />
  <meta name="keywords" content="Lords Mobile, guild, OLD GENERATION, clan, mobile game, strategy" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://oldgeneration.com.tr/" />
  <meta property="og:title" content="OLD GENERATION â€“ NEVER GIVE UP" />
  <meta property="og:description" content="Join one of Lords Mobile's elite guilds. We fight together, grow stronger, and never give up." />
  <meta property="og:image" content="/images/og-image.webp" />
  <meta property="og:locale" content="en_US" />
  <link rel="alternate" hreflang="tr" href="https://oldgeneration.com.tr/tr/" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@OldGenGuild" />
  <meta name="twitter:title" content="OLD GENERATION â€“ NEVER GIVE UP" />
  <meta name="twitter:description" content="OLD GENERATION Guild â€“ Uniting champions since 2016." />
  <meta name="twitter:image" content="/images/og-image.webp" />

  <!-- Schema.org JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "OLD GENERATION",
    "url": "https://oldgeneration.com.tr",
    "logo": "/images/logo.webp",
    "description": "A top-tier guild in Lords Mobile since 2016."
  }
  </script>

  <!-- Content Security Policy -->
  <meta
    http-equiv="Content-Security-Policy"
    content="
      default-src 'none';
      script-src 'self' https://www.googletagmanager.com https://www.google-analytics.com 'unsafe-inline';
      style-src 'self' https://fonts.googleapis.com 'unsafe-inline';
      img-src 'self' data: https://i.hizliresim.com https://oldgeneration.com.tr https://web.whatsapp.com https://telegram.org https://t.me https://line.me;
      font-src 'self' https://fonts.gstatic.com;
      connect-src 'self' https://www.google-analytics.com;
      frame-src https://web.whatsapp.com https://telegram.org https://line.me;
      form-action 'self' https://formspree.io;
      manifest-src 'self';
      media-src 'self';
      object-src 'none';
      base-uri 'self';
      frame-ancestors 'none';
      upgrade-insecure-requests;
      block-all-mixed-content;
    "
  />

  <!-- Google Analytics -->
  <script async defer src="https://www.googletagmanager.com/gtag/js?id=G-NSJQ1WV5N1"></script>
  <script defer>
    window.dataLayer = window.dataLayer || []
    function gtag() {
      dataLayer.push(arguments)
    }
    gtag('js', new Date())
    gtag('config', 'G-NSJQ1WV5N1')
  </script>
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to content</a>

  <!-- Navigation -->
  <nav aria-label="Main Navigation">
    <ul>
      <li><a href="#live-stats" id="nav-stats">Stats</a></li>
      <li><a href="#profiles" id="nav-profiles">Profiles</a></li>
      <li><a href="#terminology" id="nav-terminology">Terminology</a></li>
      <li><a href="#news" id="nav-news">News</a></li>
      <li><a href="#shortfilm" id="nav-shortfilm">Short Film</a></li>
      <li><a href="#contact" id="nav-contact">Contact</a></li>
    </ul>
  </nav>

  <div class="wrapper">
    <header>
      <div id="logo">
        <img
          src="/images/logo.webp"
          alt="OLD GENERATION Logo"
          width="140"
          height="140"
          loading="eager"
          decoding="async"
          fetchpriority="high"
        />
      </div>
      <h1>OLD GENERATION</h1>
      <p id="header-subtitle">PRESERVING LEGACY, DEFYING FATE</p>
      <div class="language-buttons">
        <button aria-label="English language" onclick="setLang('en')">EN</button>
        <button aria-label="Turkish language" onclick="setLang('tr')">TR</button>
        <button aria-label="Toggle theme" onclick="toggleTheme()" class="theme-button">ðŸŒ“ Theme</button>
      </div>
    </header>

    <main id="main-content">
      <section id="live-stats" aria-live="polite">
        <h2 id="stats-title">Live Guild Statistics</h2>
        <p id="stats-text">Real-time game data integration coming soon.</p>
        <div id="stats-data">Loadingâ€¦</div>
      </section>

      <section id="profiles">
        <h2 id="profiles-title">Member Spotlight</h2>
        <p id="profiles-text">Showcase of elite guild members under development.</p>
      </section>

      <section id="terminology">
        <h2 id="terminology-title">Game Terminology</h2>
        <p id="terminology-text">Glossary of key Lords Mobile terms will be added here.</p>
      </section>

      <section id="news">
        <h2 id="news-title">Announcements & Updates</h2>
        <p id="news-recruitment">
          <strong>Recruitment:</strong> Skilled and active players are welcome. Contact us via Telegram or Line.
        </p>
        <p id="news-tournament">
          <strong>Next Tournament:</strong> Gear up for the upcoming guild war.
        </p>
      </section>

      <section id="shortfilm">
        <h2 id="shortfilm-title">Guild Short Film</h2>
        <video
          controls
          controlsList="nodownload nofullscreen noremoteplayback"
          preload="metadata"
          poster="/images/og-image.webp"
          width="100%"
          height="auto"
        >
          <source src="/videos/shortfilm.mp4" type="video/mp4" />
          <track kind="captions" src="/videos/captions.vtt" srclang="en" label="English captions" />
          Your browser does not support the video tag.
        </video>
      </section>

      <section id="contact">
        <h2 id="contact-title">Get in Touch</h2>
        <form action="https://formspree.io/f/myzeveog" method="POST" aria-label="Contact Form">
          <label for="name" id="label-name">Name</label>
          <input id="name" name="name" type="text" required />
          <label for="email" id="label-email">Email</label>
          <input id="email" name="email" type="email" required />
          <label for="message" id="label-message">Message</label>
          <textarea id="message" name="message" rows="4" required></textarea>
          <input class="honeypot" type="text" name="botcheck" tabindex="-1" autocomplete="off" />
          <button type="submit" id="contact-button">Send Message</button>
        </form>
      </section>
    </main>

    <footer>
      <p id="footer-text1">OLD GENERATION is a distinguished guild in Lords Mobile since 2016.</p>
      <p id="footer-text2">Â© 2016â€“2025 OLD GENERATION. Designed by NeutralizeR</p>
      <div class="social-buttons">
        <a href="https://t.me/trneutralizer" target="_blank" rel="noopener" aria-label="Telegram">
          <img src="/images/telegram.webp" alt="Telegram" width="32" height="32" loading="lazy" decoding="async" />
        </a>
        <a href="https://line.me/ti/p/Tt3gWr3BDE" target="_blank" rel="noopener" aria-label="Line">
          <img src="/images/line.webp" alt="Line" width="32" height="32" loading="lazy" decoding="async" />
        </a>
      </div>
    </footer>

  <script defer>
    // Translation data
    const translations = {
      en: {
        title: "OLD GENERATION â€“ NEVER GIVE UP",
        meta_description: "OLD GENERATION: A top-tier guild in Lords Mobile, forging legends since 2016.",
        header_subtitle: "PRESERVING LEGACY, DEFYING FATE",
        nav_stats: "Stats",
        nav_profiles: "Profiles",
        nav_terminology: "Terminology",
        nav_news: "News",
        nav_shortfilm: "Short Film",
        nav_contact: "Contact",
        stats_title: "Live Guild Statistics",
        stats_text: "Real-time game data integration coming soon.",
        data_error: "Data could not be loaded",
        profiles_title: "Member Spotlight",
        profiles_text: "Showcase of elite guild members under development.",
        terminology_title: "Game Terminology",
        terminology_text: "Glossary of key Lords Mobile terms will be added here.",
        news_title: "Announcements & Updates",
        news_recruitment:
          "<strong>Recruitment:</strong> Skilled and active players are welcome. Contact us via Telegram or Line.",
        news_tournament: "<strong>Next Tournament:</strong> Gear up for the upcoming guild war.",
        shortfilm_title: "Guild Short Film",
        contact_title: "Get in Touch",
        label_name: "Name",
        label_email: "Email",
        label_message: "Message",
        contact_button: "Send Message",
        footer1: "OLD GENERATION is a distinguished guild in Lords Mobile since 2016.",
        footer2: "Â© 2016â€“2025 OLD GENERATION. Designed by NeutralizeR",
      },
      tr: {
        title: "OLD GENERATION â€“ ASLA PES ETME",
        meta_description: "OLD GENERATION: Lords Mobile'da 2016'dan beri efsaneler yaratan Ã¼st dÃ¼zey bir lonca.",
        header_subtitle: "MÄ°RASI KORUYOR, KADERÄ° YENÄ°YORUZ",
        nav_stats: "Ä°statistikler",
        nav_profiles: "Ãœyeler",
        nav_terminology: "Terimler",
        nav_news: "Duyurular",
        nav_shortfilm: "KÄ±sa Film",
        nav_contact: "Ä°letiÅŸim",
        stats_title: "CanlÄ± Lonca Ä°statistikleri",
        stats_text: "GerÃ§ek zamanlÄ± oyun verisi entegrasyonu yakÄ±nda geliyor.",
        data_error: "Veri yÃ¼klenemedi",
        profiles_title: "Ãœye TanÄ±tÄ±mÄ±",
        profiles_text: "SeÃ§kin lonca Ã¼yelerinin tanÄ±tÄ±mÄ± geliÅŸtirme aÅŸamasÄ±nda.",
        terminology_title: "Oyun Terimleri",
        terminology_text: "Lords Mobile iÃ§in temel terimlerin sÃ¶zlÃ¼ÄŸÃ¼ buraya eklenecek.",
        news_title: "Duyurular & GÃ¼ncellemeler",
        news_recruitment:
          "<strong>Ãœye AlÄ±mÄ±:</strong> Yetkin ve aktif oyuncular arÄ±yoruz. Telegram veya Line Ã¼zerinden iletiÅŸime geÃ§in.",
        news_tournament: " <strong>Sonraki Turnuva:</strong> YaklaÅŸan lonca savaÅŸÄ±na hazÄ±rlanÄ±n.",
        shortfilm_title: "Lonca KÄ±sa Filmi",
        contact_title: "Bizimle Ä°letiÅŸime GeÃ§in",
        label_name: "Ä°sim",
        label_email: "E-posta",
        label_message: "Mesaj",
        contact_button: "Mesaj GÃ¶nder",
        footer1:
          "OLD GENERATION, Lords Mobile'da 2016'dan beri ÅŸampiyonlarÄ± bir araya getiren seÃ§kin bir loncadÄ±r.",
        footer2: "Â© 2016â€“2025 OLD GENERATION. NeutralizeR tarafÄ±ndan tasarlandÄ±.",
      },
    };

    // Update meta tags dynamically
    function updateMetaTags(t) {
      document.title = t.title;
      document.querySelector('meta[name="description"]').setAttribute("content", t.meta_description);
      document.querySelector('meta[property="og:title"]').setAttribute("content", t.title);
      document.querySelector('meta[property="og:description"]').setAttribute("content", t.meta_description);
      document.querySelector('meta[name="twitter:title"]').setAttribute("content", t.title);
      document.querySelector('meta[name="twitter:description"]').setAttribute("content", t.meta_description);
    }

    // Set language and update texts
    function setLang(lang) {
      const t = translations[lang] || translations.en;
      document.documentElement.lang = lang;

      document.getElementById("header-subtitle").textContent = t.header_subtitle;
      document.getElementById("nav-stats").textContent = t.nav_stats;
      document.getElementById("nav-profiles").textContent = t.nav_profiles;
      document.getElementById("nav-terminology").textContent = t.nav_terminology;
      document.getElementById("nav-news").textContent = t.nav_news;
      document.getElementById("nav-shortfilm").textContent = t.nav_shortfilm;
      document.getElementById("nav-contact").textContent = t.nav_contact;

      document.getElementById("stats-title").textContent = t.stats_title;
      document.getElementById("stats-text").textContent = t.stats_text;

      document.getElementById("profiles-title").textContent = t.profiles_title;
      document.getElementById("profiles-text").textContent = t.profiles_text;

      document.getElementById("terminology-title").textContent = t.terminology_title;
      document.getElementById("terminology-text").textContent = t.terminology_text;

      document.getElementById("news-title").textContent = t.news_title;
      document.getElementById("news-recruitment").innerHTML = t.news_recruitment;
      document.getElementById("news-tournament").innerHTML = t.news_tournament;

      document.getElementById("shortfilm-title").textContent = t.shortfilm_title;

      document.getElementById("contact-title").textContent = t.contact_title;
      document.getElementById("label-name").textContent = t.label_name;
      document.getElementById("label-email").textContent = t.label_email;
      document.getElementById("label-message").textContent = t.label_message;
      document.getElementById("contact-button").textContent = t.contact_button;

      document.getElementById("footer-text1").textContent = t.footer1;
      document.getElementById("footer-text2").textContent = t.footer2;

      updateMetaTags(t);

      // If error in stats-data, update text accordingly
      const statsDiv = document.getElementById("stats-data");
      if (
        statsDiv.textContent.includes("could not be loaded") ||
        statsDiv.textContent.includes("yÃ¼klenemedi")
      ) {
        statsDiv.textContent = t.data_error;
      }

      fetchStatsData(lang);
      localStorage.setItem("lang", lang);
    }

    // Theme toggler
    function toggleTheme() {
      const isLight = document.body.classList.toggle("light");
      localStorage.setItem("theme", isLight ? "light" : "dark");
    }

    // Fetch stats data
    function fetchStatsData(lang) {
      fetch("/api/guild/stats")
        .then((resp) => (resp.ok ? resp.json() : Promise.reject(resp)))
        .then((data) => {
          document.getElementById("stats-data").textContent = `Members: ${data.members} | Might: ${data.might}`;
        })
        .catch(() => {
          document.getElementById("stats-data").textContent = (translations[lang] || translations.en).data_error;
        });
    }

    // Service Worker registration
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("/service-worker.js").catch((err) =>
          console.error("SW registration failed:", err)
        );
      });
    }

    // Initialization
    document.addEventListener("DOMContentLoaded", () => {
      document.body.classList.toggle("light", localStorage.getItem("theme") === "light");
      setLang(localStorage.getItem("lang") || "en");

      // Optional: disable context menu, selection and copy (remove if undesired)
      ["contextmenu", "selectstart", "copy"].forEach((ev) =>
        document.addEventListener(ev, (e) => e.preventDefault())
      );
    });
  </script>
</body>
</html>
